(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(t,e,c){},26:function(t,e,c){},51:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c(0),i=c.n(r),s=c(17),o=c.n(s),a=(c(24),c(25),c(26),c(5)),l=c(3),u=c(4),d=c.n(u),j=function(t){t.products,t.setProducts;var e=t.title,c=t.setTitle,r=t.description,i=t.setDescription,s=t.price,o=t.setPrice,a=t.handleSubmit,l=t.verb,u=t.item;return Object(n.jsxs)("form",{children:[Object(n.jsx)("h1",{className:"text-primary m-3",children:"Product Manager"}),Object(n.jsxs)("h2",{children:[l," ",u]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("label",{className:"text-primary m-1",children:"Product Title:"}),Object(n.jsx)("input",{className:"form-control d-inline col-3",type:"text",value:e,onChange:function(t){return c(t.target.value)}})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("label",{className:"text-primary m-1",children:"Price:"}),Object(n.jsx)("input",{className:"form-control d-inline col-3",type:"text",value:s,onChange:function(t){return o(t.target.value)}})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("label",{className:"text-primary m-1",children:"Description:"}),Object(n.jsx)("input",{className:"form-control d-inline col-3",type:"text",value:r,onChange:function(t){return i(t.target.value)}})]}),Object(n.jsxs)("button",{className:"btn-success btn-md m-1",onClick:a,children:[l," ",u]})]})},p=function(t){var e=t.record,c=t.records,r=t.setRecords,i=function(t){d.a.delete("http://localhost:8000/api/products/delete/".concat(t)).then((function(e){!function(t){r(c.filter((function(e){return e._id!==t})))}(t)}))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("button",{onClick:function(t){i(e._id)},children:["Delete ",e.title]})})},b=function(t){var e=t.products,c=t.setProducts;return Object(n.jsx)("div",{className:"container row mx-auto my-1",children:e.map((function(t,r){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h6",{children:t.title}),Object(n.jsxs)("button",{onClick:function(e){Object(a.c)("product/".concat(t._id))},children:["View ",t.title," Details"]}),Object(n.jsx)(p,{record:t,records:e,setRecords:c})]},r)}))})},h=function(){var t=Object(r.useState)("Enter a title"),e=Object(l.a)(t,2),c=e[0],i=e[1],s=Object(r.useState)("Enter a price"),o=Object(l.a)(s,2),a=o[0],u=o[1],p=Object(r.useState)("Enter product description"),h=Object(l.a)(p,2),O=h[0],f=h[1],x=Object(r.useState)([]),m=Object(l.a)(x,2),g=m[0],v=m[1],S=Object(r.useState)([]),N=Object(l.a)(S,2),y=N[0],P=N[1];Object(r.useEffect)((function(){d.a.get("http://localhost:8000/api/products/").then((function(t){return v(t.data.products)})).catch((function(t){return console.log(t)}))}),[g]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{handleSubmit:function(t){i("Enter another products title"),u("Enter another products price"),f("Enter another products description"),t.preventDefault(),d.a.post("http://localhost:8000/api/products/new",{title:c,price:a,description:O}).then((function(t){return console.log(t)})).catch((function(t){console.log({err:t});var e=t.response.data.errors,c=[];console.log(y);for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];c.push(e[i].message)}P(c)}))},title:c,setTitle:i,price:a,setPrice:u,description:O,setDescription:f,verb:"Add",item:"product"}),y?y.map((function(t,e){return Object(n.jsx)("p",{className:"text-danger",children:t},e)})):null,Object(n.jsx)(b,{products:g,setProducts:v})]})},O=function(t){var e=Object(r.useState)({}),c=Object(l.a)(e,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){d.a.get("http://localhost:8000/api/products/".concat(t.id)).then((function(t){s(t.data.product),console.log(i)})).catch((function(t){return console.log(t)}))}),[i.price,i.title,i.description]),Object(n.jsxs)("div",{className:"container row mx-auto my-1",children:[Object(n.jsx)("h4",{children:i.title}),Object(n.jsxs)("ul",{className:"list-unstyled",children:[Object(n.jsxs)("li",{children:["Price: $",i.price]}),Object(n.jsxs)("li",{children:["Description: ",i.description]})]}),Object(n.jsxs)(a.a,{to:"/product/".concat(i._id,"/edit"),children:["Edit ",i.title]}),Object(n.jsx)(a.a,{to:"/",children:"Home"})]})},f=function(t){var e=Object(r.useState)({}),c=Object(l.a)(e,2),i=c[0],s=c[1],o=Object(r.useState)("Update the price here"),u=Object(l.a)(o,2),p=u[0],b=u[1],h=Object(r.useState)("Update the description here"),O=Object(l.a)(h,2),f=O[0],x=O[1],m=Object(r.useState)("Update the title here"),g=Object(l.a)(m,2),v=g[0],S=g[1],N=t.id;Object(r.useEffect)((function(){d.a.get("http://localhost:8000/api/products/".concat(N)).then((function(t){s(t.data.product),console.log(t.data),b(t.data.price),x(t.data.setDescription)})).catch((function(t){return console.log(t)}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(j,{handleSubmit:function(t){t.preventDefault(),d.a.put("http://localhost:8000/api/products/update/".concat(N),{title:v,price:p,description:f}).then((function(t){return console.log(t)})),Object(a.c)("/product/".concat(N))},title:v,setTitle:S,price:p,setPrice:b,description:f,setDescription:x,verb:"Update",item:"".concat(i.title)}),Object(n.jsx)(a.a,{to:"/product/".concat(i._id),children:"Back"})]})};var x=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(a.b,{children:[Object(n.jsx)(h,{path:"/"}),Object(n.jsx)(O,{path:"product/:id"}),Object(n.jsx)(f,{path:"product/:id/edit"})]})})},m=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(e){var c=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),n(t),r(t),i(t),s(t)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),m()}},[[51,1,2]]]);
//# sourceMappingURL=main.5a033841.chunk.js.map